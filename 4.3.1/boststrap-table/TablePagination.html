<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<!-- <link href="https://unpkg.com/bootstrap-table@1.15.2/dist/bootstrap-table.min.css" rel="stylesheet"> -->
		<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="dist/bootstrap-table.min.css" />

		<script src="jQuery/jQuery3.4.1.min.js"></script>
		<script src="bootstrap/js/bootstrap.js"></script>
		<!-- <script src="https://unpkg.com/bootstrap-table@1.15.2/dist/bootstrap-table.min.js"></script> -->
		<script src="bootstrap-table/bootstrap-table.min.js"></script>
	</head>
	<body style="background-color: aliceblue;">

		<table id="mytab" class="table table-hover"></table>

		<script>
			$('#mytab').bootstrapTable({
				method: 'get',
				url: "json/userList.json", //请求路径
				striped: true, //是否显示行间隔色
				pageNumber: 1, //初始化加载第一页
				pagination: true, //是否分页
				sidePagination: 'client', //server:服务器端分页|client：前端分页
				pageSize: 4, //单页记录数
				pageList: [5, 10, 20, 30], //可选择单页记录数
				showRefresh: true, //刷新按钮
				queryParams: function(params) { //上传服务器的参数
					var temp = { //如果是在服务器端实现分页，limit、offset这两个参数是必须的
						limit: params.limit, // 每页显示数量
						offset: params.offset, // SQL语句起始索引
						//page : (params.offset / params.limit) + 1, //当前页码 

						Name: $('#search_name').val(),
						Tel: $('#search_tel').val()
					};
					return temp;
				},
				columns: [{
					title: '登录名',
					field: 'loginName',
					sortable: true
				}, {
					title: '姓名',
					field: 'name',
					sortable: true
				}, {
					title: '手机号',
					field: 'tel',
				}, {
					title: '性别',
					field: 'sex',
					formatter: formatSex, //对返回的数据进行处理再显示
				}, {
					title: '操作',
					field: 'id',
					formatter: operation, //对资源进行操作
				}]
			})

			//value代表该列的值，row代表当前对象
			function formatSex(value, row, index) {
				return value == 1 ? "男" : "女";
				//或者 return row.sex == 1 ? "男" : "女";
			}

			//删除、编辑操作
			function operation(value, row, index) {
				var htm = "<button>删除</button><button>修改</button>"
				return htm;
			}

			//查询按钮事件
			$('#search_btn').click(function() {
				$('#mytab').bootstrapTable('refresh', {
					url: 'user/getUserListPage'
				});
			})
		</script>
	</body>
</html>
